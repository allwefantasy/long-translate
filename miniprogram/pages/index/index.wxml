<!--index.wxml-->
<navigation-bar title="æ–‡ä»¶ç¿»è¯‘" back="{{false}}" color="#FFF" background="#4CAF50"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
<view class="card file-upload">
  <text class="card-title">é€‰æ‹©æ–‡ä»¶</text>
  <button class="primary-button" bindtap="chooseFile">
    <text class="icon">ğŸ“</text> é€‰æ‹©æ–‡ä»¶
  </button>
  <text class="file-name" wx:if="{{fileName}}">å·²é€‰æ‹©ï¼š{{fileName}}</text>
</view>

<view class="card language-select">
  <text class="card-title">é€‰æ‹©ç›®æ ‡è¯­è¨€</text>
  <picker bindchange="onLanguageChange" value="{{targetLanguage}}" range="{{languages}}" range-key="name">
    <view class="picker">
      å½“å‰é€‰æ‹©ï¼š{{languages[languages.findIndex(l => l.code === targetLanguage)].name}}
    </view>
  </picker>
</view>

<view class="card translate-button">
  <button class="primary-button" bindtap="translateFile" disabled="{{!fileName}}">
    <text class="icon">ğŸ”„</text> å¼€å§‹ç¿»è¯‘
  </button>
</view>
    
    <view class="card translation-result" wx:if="{{translationResult}}">
      <text class="card-title">ç¿»è¯‘ç»“æœ</text>
      <view class="result-text">{{translationResult}}</view>
      <button class="secondary-button" bindtap="downloadTranslation">
        <text class="icon">â¬‡ï¸</text> ä¸‹è½½ç»“æœ
      </button>
    </view>
  </view>
</scroll-view>
